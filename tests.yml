notifiers:
  - type: telegram
    auth:
      token: xxxx
    channels:
      - name: tg_chan
        # channel or group or user who
        # previous messaged the bot
        id: -1000000000000
  - type: sns
    auth:
      key: AKIXXXXXXXXXXXXXXXXX
      secret: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
      region: us-east-1
    channels:
      - name: sns_pavel
        phone: +491701234567
        # or
        target_arn: arn:aws:sns:us-east-1:XXXXXXXXXXXX:XXXXXXXX
        # or
        topic_arn: arn:aws:sns:us-east-1:XXXXXXXXXXXX:XXXXXXXX

# optional, a group of notify targets
notify_groups:
  - name: infra_team
    notify:
      - sns_pavel
      - tg_chan

# can be overriden by setting
# these on the test level
defaults:
  retries: 3
  recovery: 3
  interval: 10
  timeout: 30

tests:
  - type: http_ok
    name: site-com-alive-cdn
    target: https://site.com/endpoint
    notify:
      - sns_pavel
      - tg_chan
    # or
    notify_groups:
      - infra_team
